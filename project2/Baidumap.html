<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Aecie Map Based on Baidu</title>
	<script type="text/javascript" src = "http://api.map.baidu.com/api?v=2.0&ak=Cq1UWYjYILQkz99rehq2Rsq7pkIxPDib"></script>
	<script type="text/javascript" src = "../JQuery.js" ></script>
</head>
<body>
	<!-- Maps Generation -->
	<div id = "ac_map" style = "border:#ccc solid 5px; position: absolute; right: 0%; top: 0%; bottom: 0%; left: 380px;"></div>

	<!-- Direction -->
	<div id = "object" style = "background-color: rgb(66, 133, 244); position: absolute; top: 0; left: 0; bottom: 0%; width: 380px;">
		<!-- Title -->
		<h1 style = "color: white; text-align: center; font-size: 30px; position: relative; top: 20px;">Aecie Map of Info</h1>
		<!-- Search -->
		<div style = "background-color: rgb(51, 103, 214); position: absolute; width: 304px; height: 40px; left: 38px; border-radius: 5px; top: 120px;" >
			<h1 style = "color: white; position: relative; left: 15px; top: -5px; font-weight: normal; font-size: 20px"> Locate: </h1>
			
			<input id = "cityName" type="text" value = "where to go" style="position: relative; width:170px; top: -45px; left:90px; color: white; font-size: 17px; border-bottom: white 1px solid; border-top-style: none; border-right-style: none; border-left-style: none; background-color: transparent;">

			<img id = "Locate" src = "image/search.png" width = "20" height = "20" onclick = "theLocation()" style = "cursor: pointer; position: relative; top: -40px; left: 100px;">
		</div>
	</div>
</body>
	<script name = "map" type = "text/javascript">
		"use strict";
		var map = new BMap.Map("ac_map");
		var point = new BMap.Point(116.331398,39.897445);
		// var weatherData = null;
		var html = "";

		map.centerAndZoom(point,13);
		
		map.enableDragging();
		map.enableScrollWheelZoom();
		map.enableDoubleClickZoom();
		map.enableKeyboard();
		
		map.addControl(new BMap.NavigationControl({anchor: BMAP_ANCHOR_TOP_LEFT, type: BMAP_NAVIGATION_CONTROL_LARGE}));
		map.addControl(new BMap.OverviewMapControl({anchor: BMAP_ANCHOR_BOTTOM_RIGHT, isOpen: 0}));
		map.addControl(new BMap.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT}));

		function myLoc(result){
			var cityName = result.name;
			map.setCenter(cityName);
			alert("Now you are located in " + cityName);
		}

		var myCity = new BMap.LocalCity();
		myCity.get(myLoc);

		$(document).ready(function(){
			$("#Locate").click(function(){
				$("#Info").fadeIn();
			});
		});

		function theLocation(){
			var city = $("#cityName").val();
			if(city != ""){
				map.centerAndZoom(city,11);      // 用城市名设置地图中心点

			}

// 			getCityById(city);
		//	console.log("weatherData: "+weatherData);
		//	console.log();
		}

	</script>
</html>
